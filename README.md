# ICE Roulette Bot

بوت متطور لإدارة المسابقات بأنواعها (روليت، تصويت، يستحق، كويز) مع دعم لنجوم تلغرام والاشتراك الإجباري.

## الميزات الأساسية

1.  **نظام الروليت (Roulette):**
    *   إنشاء سحوبات عشوائية في القنوات.
    *   بوابة اشتراك إجباري (Gates) لعدة قنوات.
    *   نظام منع البوتات (Math Captcha).
    *   استبعاد المغادرين لحظة السحب.

2.  **نظام التصويت (Voting):**
    *   تصويت عادي أو عبر نجوم تلغرام (Telegram Stars).
    *   لوحة متصدرين حية (Leaderboard).
    *   منع تكرار التصويت.

3.  **نظام يستحق (Yastahiq):**
    *   مراقبة المجموعات تلقائياً.
    *   تحويل التفاعل إلى نقاط بناءً على كلمات مفتاحية (يستحق، كفو، إلخ).

4.  **نظام الاختبارات (Quiz):**
    *   إنشاء مسابقات أسئلة وأجوبة مع حساب تلقائي للنقاط.

5.  **نظام الإحالة (Referral):**
    *   ربح نقاط عن كل مستخدم جديد ينضم عبر الرابط الخاص.

6.  **لوحة تحكم الإدارة (Admin Panel):**
    *   إحصائيات شاملة.
    *   نظام إذاعة (Broadcast).
    *   التحكم في الأسعار وإعدادات البوت.

## المتطلبات التقنية

*   Python 3.11+
*   PostgreSQL
*   Redis (للفزم وتحديد المعدل)
*   Aiogram 3.x

## التشغيل

1. قم بضبط المتغيرات في ملف `.env`.
2. قم بتثبيت التبعيات: `pip install -r requirements.txt`.
3. شغل البوت: `python -m app.main`.

## الهيكلية البرمجية

*   `app/db`: النماذج (Models) والمستودعات (Repositories).
*   `app/routers`: معالجات الرسائل (Handlers).
*   `app/services`: منطق الأعمال (Business Logic).
*   `app/keyboards`: لوحات المفاتيح التفاعلية.
